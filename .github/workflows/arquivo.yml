name: Exemplo de Leitura de Arquivo

on:
    workflow_dispatch:


jobs:
  read-file:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout repository
        uses: actions/checkout@v3

#      - name: List files
#        run: ls -la
        
#      - name: Read env file
#        run: |
#          conteudo=$(cat .github/workflows/action-config.env)
#          echo "$conteudo"
      - name: Read env file and set ACTION variable
        id: setvar
        run: |
          echo "ACTION_TYPE=$(grep 'ACTION_TYPE' .github/workflows/action-config.env | cut -d'=' -f2)" >> $GITHUB_ENV
          
      - name: Rodar se for apply
        if: env.ACTION_TYPE == 'apply'
        run: |
          echo "aqui se for apply"

      - name: Rodar se for destroy
        if: env.ACTION_TYPE == 'destroy'
        run: |
          echo "aqui se for destroy"          